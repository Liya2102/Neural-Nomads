{% extends "base.html" %}
{% block content %}
<div class="container" style="max-width:600px;">
    <h2 class="mb-4" style="text-align:center;font-weight:700;color:#3a506b;">Make a Donation</h2>
    <form method="POST" class="card p-4 shadow-sm mb-4" style="border-radius:16px;">
        <div class="mb-3">
            <label for="amount" class="form-label">Amount</label>
            <input type="number" step="0.01" min="1" class="form-control" id="amount" name="amount" required>
        </div>
        <div class="mb-3">
            <label for="message" class="form-label">Message (optional)</label>
            <textarea class="form-control" id="message" name="message" rows="2"></textarea>
        </div>
        <button type="submit" class="btn btn-alumni w-100">Donate</button>
    </form>
    <h4 class="mb-3">Previous Donations</h4>
    {% if donations and donations|length > 0 %}
        <ul class="list-group">
        {% for donation in donations %}
            <li class="list-group-item">
                <strong>â‚¹{{ '%.2f'|format(donation.amount) }}</strong> by {{ donation.donor.name if donation.donor else 'Anonymous' }}<br>
                <span class="text-muted" style="font-size:0.95em;">{{ donation.donated_at.strftime('%Y-%m-%d') }}</span>
                {% if donation.message %}<div>{{ donation.message }}</div>{% endif %}
            </li>
        {% endfor %}
        </ul>
    {% else %}
        <div class="text-muted">No donations yet.</div>
    {% endif %}
</div>
{% endblock %}
